\chapter*{Комбинаторика}
\addcontentsline{toc}{chapter}{Комбинаторика}

\setlength{\epigraphwidth}{.6\textwidth}
\epigraph{Ложь имеет бесконечное число комбинаций,
тогда как правда бывает только одна.}{---Жан-Жак Руссо}

 
 
Если задача начинается со слов «Сколько существует способов...», то это автоматически задача по комбинаторике, но обратное неверно.
Комбинаторный подход будет полезен при решении как нижеследующих (довольно разнообразных) задач, так и многих других в этой книге.

Наша вводная задача совершенно классическая и использует фундаментальную
комбинаторную технику --- перемножение чисел независимых вариантов.

\subsection*{Расстановка цифр}% (Sequencing the Digits)
\rindex{Расстановка цифр}

Сколькими способами можно записать в ряд цифры от 0 до 9, так, что каждая цифра, кроме самой левой, отличается от одной из цифр стоящих слева от неё, на единицу.

\paragraph{Решение:} На первый взгляд кажется, что данная задача не решается перемножением чисел независимых вариантов, так как число вариантов зависит от предыдущего выбора.
Например, у нас есть десять вариантов для самой левой цифры,
но начав ряд, скажем, с «3» у нас только два варианта для следующей цифры; если же мы начинаем с «0» или «9», то у нас только один выбор.
Если вы знаете как суммировать биномиальные коэффициенты, то сможете построить на этом решение задачи, но есть лучший способ.

Заметим, что ряд заканчивается нулём или девяткой; и если мы движемся \emph{справа налево}, то каждый раз мы стоим перед выбором --- написать наибольшую неиспользованную цифру или наименьшую, пока не дойдём до левого края, где эти два выбора совпадают.
Таким образом, получаем два выбора в каждой из девяти возможностей.
Отсюда ответ $2^9=512$ способов.\heart

(Источник: Олимпиада Патнема 1960-х годов.)% (A Putman Exam from the 1960s )

\bigskip

За вами решение оставшихся задач.
Подсказка: смотрите внимательно, где можно применить принцип ящиков Дирихле!

\subsection*{Подмножества подмножеств}% (Subsets of subsets)
\rindex{Подмножества подмножеств}

Докажите, что любое множество из десяти различных чисел от 1 до 100 содержит два непересекающихся непустых подмножества, сумма чисел которых одинакова.

\subsection*{Вредный метрдотель}% (The Malicious Maitr D’)
\rindex{Вредный метрдотель}

На банкете математической конференции 48-и мужчинам математикам, ни один из которых не имеет ни малейшего представления об этикете, назначены места за большим круглым столом.
На столе, между каждой парой приборов, стоит кофейная чашка с салфеткой.
Как только человек занимает своё место (по указанию метрдотеля), он берёт салфетку, слева или справа от себя; если на столе две салфетки, он выбирает одну случайным образом (но метрдотель не может видеть, какую).

В каком порядке следует заполнять места, чтобы максимальному числу математиков не досталось салфетки?

\subsection*{Рукопожатия на приёме}% (Handshakes at a Party)
\rindex{Рукопожатия на приёме}

Майк и Жанна, а также ещё четыре пары, побывали на праздничном обеде, где каждый из присутствующих обменялся рукопожатием с каждым, ему дотоле незнакомым гостем.
Позже Майк опросил всех и обнаружил, что каждый из девяти других гостей пожал руки с \emph{разным} числом людей.

Со сколькими гостями обменялась рукопожатиями Жанна?

\subsection*{Трёхсторонние выборы}% (Three-Way Election)
\rindex{Трёхсторонние выборы}

Ашворд, Бакстер и Кэмпбелл баллотируются на пост председателя союза %(secretary of union) 
и набирают по одинаковому числу голосов.
Для разрешения этой ситуации они требуют голосования с учётом второго выбора избирателей (так называемого преференциального метода голосования), но снова приходят к ничьей.
Тогда Ашворд выступает с предложением, что, так как число избирателей нечётное, можно провести двухсторонние выборы --- избиратели выбирают между Бакстером и Кэмпбеллом, а затем между победителем и Ашвордом.

Но Бакстер недоволен данным предложением.
Он считает этот способ несправедливым, потому что, по его мнению, у Ашворда больше шансов выиграть, чем у остальных.
Прав ли Бакстер?

\subsection*{Зарплата короля}% (King’s Salary)
\rindex{Зарплата короля}

После революции каждый из 66 жителей некой страны, включая короля, получает зарплату в 1 доллар.
Король не может больше голосовать, но всё ещё сохраняет за собой право вносить изменения в законопроект, в частности, в то, как распределяется зарплата.
Зарплата каждого жителя должна быть целым числом долларов и сумма всех зарплат равняется 66.
Каждое предложение по изменению ставится на голосование и принимается, если получает больше голосов «За», чем «Против».
Будем считать, что те, кто получают прибавку к зарплате, голосуют «За», а те, у кого зарплата уменьшается --- «Против», остальные же голосованием себя не утруждают.

Король --- человек умный и корыстный.
Какой максимальной для себя зарплаты он сможет добиться, и сколько шагов ему на это понадобится?

\subsection*{Плохо сделанные часы}% (A Poorly Designed Clock)
\rindex{Плохо сделанные часы}

Есть часы, у которых минутная стрелка никак не отличается от часовой.
Сколько раз в сутки возникнет ситуация, когда по этим часам нельзя определить время в данный момент?

\subsection*{Таинственный карточный фокус}% (A Mystifying Card Trick )
\rindex{Таинственный карточный фокус}

Давид и Дороти придумали хитрый карточный фокус.
Давид отворачивается, кто-нибудь выбирает пять карт из колоды карт для бриджа и даёт их Дороти; она просматривает карты, вытаскивает одну и передаёт оставшиеся карты Давиду.
Давид правильно называет вытащенную Дороти карту.

Как они это делают?
На какой наибольшей колоде возможно демонстрировать их фокус?

\subsection*{Странствующие торговцы}% (Travelling Salesmen )
\rindex{Странствующие торговцы}

Между любыми двумя большими городами в России цена авиабилетов фиксирована.
Алексей Фругаль, коммивояжёр, начинает свою поездку по городам из Москвы и всегда выбирает самый дешёвый перелёт до города, который он ещё не посещал.
(Ему не нужно возвращаться в Москву).
Коммивояжёру Борису Лавишу также нужно посетить каждый город, но он начинает свою поездку в Калининграде и каждый раз выбирает самый дорогостоящий перелёт до города, в котором он ещё не побывал.

Докажите, что поездки Лавиша стоят как минимум столько же, сколько поездки Фругаля. %???Фругаль = Скряга, Лавиш=Кутила

\subsection*{Проигрыш в кости}% (Losing at Dice)
\rindex{Проигрыш в кости}

При броске шести кубиков, число различных выпавших чисел варьируется от 1 до 6.
Предположим, что каждую минуту крупье бросает шесть кубиков,
и вы ставите 1 доллар, один к одному, на то, что выпадет ровно 4 различных числа
(то есть вы получаете 1 доллар, если выигрываете или теряете 1 доллар, если проигрываете).

Предположим вы начинаете игру с 10-ю долларами.
Оцените приблизительно, сколько вы в среднем продержитесь до полного проигрыша?
