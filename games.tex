\chapter*{Игры}
\addcontentsline{toc}{chapter}{Игры}

\setlength{\epigraphwidth}{.6\textwidth}
\epigraph{Деньги никогда не были для меня серьезной мотивацией, это просто способ считать очки.
Настоящий азарт --- вести игру.}{---Дональд Трамп (1946---).
«Трамп: Искусство сделки»}
%Сами по себе деньги меня не интересуют, это только способ считать очки. Азарт в самой игре.  
%(Деньги никогда не были для меня серьезной мотивацией – скорее способом вести счет. Настоящее возбуждение получаешь от процесса игры)

Иногда  из описания игры возникает чудесная задача.
А честная ли игра? А какова наилучшая стратегия? Особенность этой главы состоит в том, что каждая задача имеет две версии, различия между которыми весьма занимательны.
Здесь представлены четыре пары игр: в первой паре речь пойдёт о числах, во второй --- о шляпах, в третьей --- о картах, и в четвёртой --- о гладиаторах.

\medskip

Начнём с классической игры, являющейся  хорошим примером класса вероятностных алгоритмов (и действительно, она так и использовалась Мануэлем Блюмом,  профессором университета Карнеги --- Меллона). %(Manuel Blum from  Carnegie Mellon University)

\subsection*{Сравнение чисел, версия I} % (COMPARING NUMBERS, VERSION I)
\rindex{Сравнение чисел, версия I}

Паула (злоумышленник) пишет на двух листочках бумаги по целому числу.
На числа нет никаких ограничений, кроме того, что они должны быть различными.
Она прячет в каждой руке по бумажке.

Виктор (жертва) выбирает руку Паулы, которую она открывает и показывает число на листочке бумаги.
Виктор теперь должен угадать, является ли это число б\'{о}льшим или меньшим из двух чисел Паулы.
Если он угадывает правильно, он выигрывает 1 доллар, если нет --- проигрывает 1 доллар.

Очевидно, Виктор может обеспечить себе равные шансы в игре, подбрасывая, например, монету, чтобы выбрать между «большее» и «меньшее».
Вопрос: не зная ничего о характере Паулы, может ли Виктор сыиграть лучше, чем просто остаться при своих?

\subsection*{Сравнение чисел, версия II} %(COMPARING NUMBERS, VERSION II)
\rindex{Сравнение чисел, версия II}

Давайте теперь упростим Виктору задачу:
Паула не загадывает больше числа, они выбираются независимо случайным образом из интервала $[0,1]$ с равномерным распределением (подойдут два числа, выданные стандартным генератором случайных чисел).

Чтобы не обижать Паулу, позволим ей проверять эти два случайных числа и выбирать, \emph{которое из них показать Виктору}. %???проверять
И снова, на кону 1 доллар, и Виктор должен решить, является ли это число б\'{о}льшим или меньшим из двух чисел.
Сможет ли Виктор сыграть лучше, чем просто остаться при своих?
Какие у Виктора и Паулы есть лучшие (то есть «равновесные») стратегии?

\subsection*{Синие и красные шляпы, версия I} % (RED AND BLUE HATS, VERSION I)
\rindex{Синие и красные шляпы, версия I}

На каждого члена команды из $n$ игроков надета красная или синяя шляпа.
Каждый игрок видит, какого цвета шляпа у его товарищей, но на свою шляпу он посмотреть не может.
Обмениваться информацией запрещено.
По сигналу все игроки одновременно должны назвать цвет своей шляпы.
После этого те игроки, которые угадали неправильно,  отправляются на казнь.

Зная, что придётся играть, у команды есть возможность договориться о стратегии
(то есть установить набор правил, необязательно одинаковых для всех игроков, какому игроку какой цвет называть, основываясь на том, что он видит).
Их задача --- гарантировать максимально возможное число выживших, предполагая наихудший вариант распределения шляп.

\medskip

Другими словами, допустим, распределяющий шляпы противник знает о командной стратегии и будет стараться всеми силами её расстроить.
Сколько игроков можно спасти?


\subsection*{Синие и красные шляпы, версия II} % (RED AND BLUE HATS, VERSION II)
\rindex{Синие и красные шляпы, версия II}

И снова, на каждого из $n$ игроков команды надевается красная или синяя шляпа.
Но в этот раз игроки выстраиваются в шеренгу по одному, так что каждый игрок видит только шляпы впереди стоящих.
И снова, каждый игрок должен угадать цвет своей шляпы, и  если ошибётся, будет казнён.
Но в этот раз игроки отвечают по очереди, начиная с конца шеренги.
Таким образом, $i$-тый в шеренге игрок, например, видит какого цвета шляпы у $1, 2,\dots, i-1$ игрока и слышит, что сказали $n, n-1,\dots, i+1$ игроки.
(При этом он не знает, какие из ответов правильные --- казнь состоится позже).

\medskip

Как и прежде, у команды есть возможность договориться заранее о стратегии, которая бы гарантировала им максимально возможное число выживших.
При наихудшем раскладе, сколько игроков можно спасти?

\subsection*{Ставка на следующую карту, версия I} % (BETTING ON THE NEXT CARD, VERSION I)
\rindex{Ставка на следующую карту, версия I}

Паула тщательно тасует колоду карт, затем открывает по одной карте, снимая карту с верха колоды.
В любой момент Виктор может прервать её и поставить 1 доллар на то, что следующая карта будет красной.
Он делает ставку ровно один раз.
Если он ни разу не останавливает Паулу, то ставка автоматически делается на последнюю карту.

\medskip

Какова лучшая для Виктора стратегия?
Насколько лучше, чем 50/50, он может сделать? %???сделать
(Предполагается, в колоде 26 красных и 26 чёрных карт.)

\subsection*{Ставка на следующую карту, версия II} % (BETTING ON THE NEXT CARD, VERSION II)
\rindex{Ставка на следующую карту, версия II}

И снова, Паула тщательно тасует колоду и затем открывает по одной карте.
Виктор начинает играть, имея в наличии один доллар.
Он может поставить  любую часть имеющейся у него на данный момент суммы на цвет следующей карты.
Его шансы на выигрыш не зависят от текущего состава колоды.
Так, например, он может отказываться делать ставки до последней карты, чей цвет он, понятно, будет знать, уверенно поставить всё и уйти домой с двумя долларами.

\medskip

Существует ли стратегия, которая может \emph{гарантировать} Виктору закончить игру с суммой больше, чем 2 доллара?
Если да, какую максимальную сумму он может гарантированно выиграть? 

\subsection*{Гладиаторы, версия I} % (GLADIATORS, VERSION I)
\rindex{Гладиаторы, версия I}

У Паулы и Виктора есть по команде гладиаторов.
Гладиаторы Паулы обладают силой $p_1, p_2,\dots, p_m$, а гладиаторы Виктора --- $v_1, v_2,\dots, v_n$.
Гладиаторы бьются до смерти один на один, и когда гладиатор силы $x$ встречается с гладиатором силы $y$, первый побеждает с вероятностью $x/(x+y)$, а второй с вероятностью $y/(x+y)$.
Более того, если гладиатор силы $x$ побеждает, он обретает уверенность и наследует силу противника, так что его сила увеличивается до $x+y$.
Аналогично, если побеждает второй гладиатор, его сила увеличивается с $y$ до $x+y$.

После каждого поединка Паула выставляет на ринг гладиатора (из тех в её команде, кто ещё остался в живых), и Виктор должен выбрать одного из своих гладиаторов для поединка.
Выигрывает та команда, в которой остаётся хотя бы один живой боец.

\medskip

Какова наилучшая стратегия для Виктора?
Например, если Паула начинает с её лучшего гладиатора, должен ли в ответ Виктор выставить сильного или слабого?

\subsection*{Гладиаторы, версия II} % (GLADIATORS, VERSION II)
\rindex{Гладиаторы, версия II}

И снова, Паула и Виктор должны противостоять друг другу в Колизее, но на этот раз сила не меняется --- когда гладиатор побеждает, его сила остаётся той же, что была. %???той же

\medskip

Как и прежде, перед каждым поединком Паула выбирает участника первой.
Какова лучшая для Виктора стратегия? Кого он должен выставить на бой, если Паула начинает с лучшего бойца?
