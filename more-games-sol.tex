\section*{Решения и комментарии}

\subsubsection*{Детерминированный покер}% (DETERMENISTIC POKER)

Немного о порядке комбинаций карт для данной задачи, и так, наилучшей комбинацией здесь является стрит-флэш (любые пять карт одной масти по порядку).
Стрит-флэш, начинающийся с туза (его также называют «Роял-флэш») бьёт стрит-флэш, возглавляемый королём, и так далее вниз по-порядку.

Это означает, что если Бобу удастся собрать роял-флэш, то Алисина песенка спета.
Поэтому, чтобы получить шанс выиграть, Алисин первый набор карт должен содержать по одной карте каждого из четырёх возможных роял-флэшев.

Для этой цели лучшими картами являются десятки каждой масти, поскольку они не дают собрать стрит-флэш, начинающийся с десяти или с более высокой карты.
И действительно, поразмыслив минуточку, вы поймёте, что любая комбинация Алисы с изначальными четырьмя десятками выигрывает.
У Боба не остаётся надежды собрать стрит-флэш выше девятки.
Но чтобы не дать Алисе собрать роял-флэш, он должен взять, по меньшей мере, по одной карте выше десятки из каждой масти, то есть только одну карту меньше десяти.
Алиса же теперь может поменять четыре карты и собрать стрит-флэш, начинающийся с десятки, в любой масти, кроме масти младшей карты Боба,
и Боб оказывается тут совершенно беспомощен.
\heart

У Алисы имеются также и другие выигрышные комбинации.
Эта странная игра обсуждалась в одной из ранних рубрик Мартина Гарднера. 

\subsubsection*{Шведская лотерея}% (SWEDISH LOTTERY)

Предположим, $k$ --- наибольшее число, которое готов выбрать каждый из игроков.
Если игрок выбирает $k$, он выигрывает, когда совпадает выбор двух других игроков, кроме случая, когда они также выбрали $k$.
Но если он выбирает $k+1$, то выигрывает каждый раз, когда выбор двух других совпадает, \emph{точка}.
Отсюда следует, что лучше выбрать $k+1$, чем $k$, и значит стратегия не равновесна.
Это противоречие указывает на то, что необходимо рассматривать произвольно большие числа --- иногда следует выбрать 1487564.
\heart

В равновесной стратегии каждый игрок должен выбрать число $j$ с вероятностью $(1-r)r^{j-1}$, где 
\[r = -\frac13-\frac2{\sqrt[3]{17+3\sqrt{33}}}+\frac{\sqrt[3]{17+3\sqrt{33}}}3,\]
что примерно равно $0{,}543689$.
Вероятности выбора 1, 2, 3 и 4 равны примерно $0{,}456311$, $0{,}248091$, $0{,}134884$ и $0{,}073335$, соответственно.

На эту довольно симпатичную идею лотереи обратил моё внимание Улле Хэггстрём из университета Чалмерса в Гётеборге, Швеция. %(Olle Häggström of Chalmers University in Göteborg, Sweden.)
Я не знаю, была ли эта идея осуществлена или хотя бы рассматривалась в качестве официальной национальной лотереи, а вы не считаете, что должна была бы?

\subsubsection*{Блины}% (PANCAKES)

Положим, что в настоящий момент в стопках $m$ и $n$ блинов, и $m > n$.
Если соотношение размеров стопок $r = m/n$ лежит строго между 1 и 2, то на следующем ходу новое соотношение равно $\tfrac1{1-r}$.
Эти пропорции равны только если $r$ равно золотому сечению;
то есть $r=\phi=(1+\sqrt{5})/2\approx 1{,}618$.
Поскольку число $\phi$ иррационально, одно из двух соотношений $r$ и $\tfrac1{1-r}$ должно быть больше, а другое меньше $\phi$.

Первый игрок (Алиса) выигрывает только тогда, когда начальное соотношение большей стопки к меньшей превышает $\phi$.
Чтобы это увидеть, предположим $m>\phi n$, но $m$ не кратно $n$.
Запишем $m=an+b$, где $<b<n$.
Тогда либо $n/b<\phi$, и в этом случае Алиса ест $an$ блинов, либо $n/b>\phi$, и в этом случае она съедает только $(a-1)n$ штук.
Боб остаётся с соотношением, меньшим $\phi$, и он вынужден сделать ход, который возвращает соотношению значение больше $\phi$.

Рано или поздно, Алиса достигнет момента, когда её соотношение $m/n$ --- целое число, и тогда она сможет уравнять число блинов в двух стопках и оставить Боба с сырым блином.
Заметим, что она также может, если захочет, забрать себе всю стопку блинов.

Разумеется, если вместо этого Алиса имеет дело с соотношением $m/n$, которое лежит строго между $1$ и $\phi$, она оказывается в безвыходном положении %( дело её --- швах)
и теперь Боб задаёт игру.

Приходим к заключению, что независимо от того, в какой вариант «Блинов» играют, если высоты стопок $m>n$, то Алиса выигрывает, в точности когда $m/n>\phi$.
Только в тривиальном случае, когда стопки изначально одинаковы, цель игры имеет значение.\heart

Данная задача была представлена на 12-й Всесоюзной математической олимпиаде в Ташкенте в 1978 году.
Мне её показал Билл Газарч из Мэрилендского университета.% (Bill Gasarch of the University of Maryland).

\subsubsection*{Определение разности}% (DETERMINING A DIFFERENCE)

Запишем эту разность как $x-y$, с $x=abcd$ и $y=efgh$.
В любой момент в игры, будем обозначать через $x(0)$ результат замены оставшихся звёздочек в на нули, аналогично будем использовать обозначения $x(9)$, $y(0)$ и $y(9)$.

Алиса гарантированно может получить 4000, называя 4-и и 5-и, пока Боб не поставит цифру на позицию $a$, после чего Алиса выбирает нули до конца игры;
если же Боб ставит 4-у или 5-у на позицию $e$, то она заканчивает игру одними 9-ками.
Ей нужно следить за тем, что $x(9)\ge y(9)$ всякий раз, когда она называет цифру 5, так как Боб может поставить 5-у на позицию $e$;
также она должна гарантировать, что $x(0)\ge y(0)$ каждый раз, когда выбирает цифру 4, иначе Боб поставит эту 4-у на позицию $a$.
Это можно проделать следующим образом.

Если в какой-то момент игры $x$ и $y$ одинаковы, то Алиса называет либо 4, либо 5.
В любой другой ситуации обозначим через $u$ и $v$, соответственно, самые левые отличные друг от друга позиции в $x$ и $y$.
Если $u=*$ (в этом случае $x(9)> y(9)$), то Алиса называет 5, если же $v=*$ (в этом случае $x(0)> y(0)$), то она называет 4.
Никогда не может случиться, что $u=4$ и $v=5$, а если $u=5$ и $v=4$, то выполняются оба неравенства $x(9)> y(9)$ и $x(0)> y(0)$, так что Алиса может смело выбирать либо 4, либо 5.

С другой стороны, Боб легко гарантирует себе 4000, если сразу же поставит 4 или меньшую цифру на позицию $a$, либо 5 или б\'{о}льшую цифру на позицию $e$.
Затем он не меняет первую звёздочку в другом числе, пока не появится не ноль (в первом случае) или не девять (во втором случае).
Таким образом он получает либо $4000-0000$, либо $9999-5999$, а, может, и лучший результат.
\heart

Эта задача уходит своими корнями, по меньшей мере, к 6-й Всесоюзной Математической олимпиаде в Челябинске 1972 года.

\subsubsection*{Тройная дуэль}% (THREE-WAY DUEL)

Об этой бородатой задаче мне напомнил Ричард Плотц из Провиденса, штат Род-Айленд.
%(Dr. Richard Plotz of Providence, RI)
У неё есть множество вариаций, одна из которых появилась уже в книге головоломок Хьюберта Филлипса 1938 года.\footnote{H. Phillips, \emph{Question Time},  J. M. Dent \& Sons, London, 1938}

\medskip

Совершенно очевидно, что Алиса не должна целиться в Боба --- если она попадёт, то на следующем шаге её подстрелит Кэрол --- конец игры.
В случае удачи с Кэрол, Алисе предстоит дуэль с Бобом, а Боб лучше попадает в цель, и стреляет он первым.
Шансы выжить у неё определённо меньше $\tfrac13$.

(На самом деле, если обозначить через $p$ вероятность Алисы остаться в живых, в случае если Боб стреляет первым, а через $q$ --- вероятность (б\'{о}льшую) выживания Алисы, когда она стреляет первой, то $p=\tfrac13\cdot q$ и $q+\tfrac13+\tfrac23\cdot p$, отсюда $p=\tfrac17$.
Не очень хорошо для Алисы.)

Однако, если она промахивается, то в Кэрол будет стрелять Боб.
Если он попадает, то опять предстоит дуэль между Алисой и Бобом, но в этот раз первой стреляет Алиса, и её шансы выжить превышают $\tfrac13$ (а точнее, равны $\tfrac37$).

Если Боб терпит неудачу, то Кэрол пристрелит его, и у Алисы будет один шанс попасть в Кэрол.
Вероятность выжить для неё в этом случае равна ровно $\tfrac13$.

Суть в том, что независимо от того, попадёт ли Боб в Кэрол или нет, Алисе лучше промахнуться, чем попасть, стреляя в Кэрол.
И намного лучше промахнуться, чем попасть, стреляя в Боба.

Итак, лучшая стратегия для Алисы --- пожертвовать преимуществом первого хода и стрелять в воздух.

Однако стойте!
%But wait.
Если мы разрешили Алисе стрелять в воздух, то нам следует дать такую возможность и остальным. 
%We'e been assuming the others wouldn't do that, but now that we have allowed Alice that option, we must surely allow it to the others. 
Они должны просчитать, что Алиса никого не убьёт пока все три дуэлянта живы. 
%They can work out that whenever three duelers are still alive, Alice will never aim to kill.
Применим обратный ход как и прежде.
Предположим что выстрел за Кэрол и все трое живы,
следует ли ей стрелять в Боба? 
%Again applying retrograde analysis, if it gets to Carol with no one dead, should she kill Bob?
Если Боб пытался её убить, то да.
%If Bob tried to shoot her, then yes.
Но если Боб выстрелил в воздух, и таким образом продемонстрировал желание продолжать так и далее,
то Кэрол лучше сделать как и он ---
никто не рискует жизнью и когда кончаться патроны можно пойти домой и заняться математическими головоломками.
%But if Bob shot into the air, thereby suggesting a willingness to do so indefinitely, then Carol should do the same--that way, no one's life is at risk and when the ammunition runs out, everyone can go home and do math puzzles.
Возвращаясь на шаг назад, нам следует понять что Бобу действительно выгодно стрелять в воздух и дуэль окажется липовой.
%Going back one turn, we deduce that Bob should indeed shoot into the air and the whole duel will be a dud.

Обдумав всё это ещё раз, заключаем, что если цель каждого состоит в том, чтоб остаться в живых --- а мы это и предполагаем --- то не стоит устраивать дуэли.
%Thinking back on it, it's pretty obvious that if the highest priority for all three parties is to stayalive---which is what we've been assuming---then the duel should never have been arranged.
\heart
